<section class="flex flex-col gap-4">
  <app-select-date
    [daySelected]="daySelected"
    (daySelectedChange)="setDay($event)"
  />

  <!-- Grid -->
  <div class="grid gap-6 grid-cols-1 sm:grid-cols-2 xl:grid-cols-4">
    @for (item of listEvents; track $index) {
    <event-card
      [eventId]="item.eventId"
      [coverUrl]="item.imageUrl"
      [title]="item.title"
      [date]="item.eventDate"
      [category]="item.nameEventCategory"
      [venue]="item.nameClub"
      (toArtists)="toPath(item.eventId ?? item.eventId, 'artists')"
      (toSchedule)="toPath(item.eventId ?? item.eventId, 'schedule')"
      (toCategory)="toPath(item.eventId ?? item.eventId, 'categories')"
    />
    }
  </div>

  <!-- Loader / Estado -->
  @if (loading) {
  <div class="text-center text-sm opacity-70 py-3">Cargando más eventos…</div>
  } @if (endReached && listEvents.length > 0) {
  <div class="text-center text-xs opacity-60 py-3">No hay más eventos</div>
  } @if (!loading && listEvents.length === 0 && endReached) {
  <div class="text-center text-sm opacity-70 py-6">Sin resultados</div>
  }

  <!-- Sentinel: el observer mira este elemento para cargar más -->
  <div #infiniteScrollAnchor class="h-1"></div>
</section>
